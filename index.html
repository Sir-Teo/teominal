<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Fake Terminal</title>
  <!-- Include xterm.js CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xterm/css/xterm.css" />
  <style>
    /* Basic styling for full-screen terminal */
    body {
      margin: 0;
      padding: 0;
      background-color: #000;
      color: #fff;
      font-family: monospace;
    }
    #terminal {
      height: 100vh;
      width: 100vw;
    }
  </style>
</head>
<body>
  <!-- Terminal container -->
  <div id="terminal"></div>

  <!-- Include xterm.js from CDN -->
  <script src="https://cdn.jsdelivr.net/npm/xterm/lib/xterm.js"></script>
  <script>
    // Create a new terminal instance with a blinking cursor
    const term = new Terminal({ cursorBlink: true });
    term.open(document.getElementById('terminal'));

    // Define some fake documents about you
    const documents = {
      'about.txt': 'Name: John Doe\nOccupation: Developer\nInterests: Coding, Gaming, Music',
      'resume.txt': 'Experience:\n- Developer at XYZ Corp\n- Intern at ABC Inc.\nEducation: BSc in Computer Science'
    };

    // Display an initial welcome message and prompt
    term.write('Welcome to the Fake Terminal.\r\nType "help" for available commands.');
    prompt();

    // Initialize a variable to hold the current command
    let command = '';

    // Function to display a prompt
    function prompt() {
      term.write('\r\n$ ');
    }

    // Function to handle and process commands
    function handleCommand(cmd) {
      const args = cmd.trim().split(' ').filter(x => x);
      const commandName = args[0];
      switch (commandName) {
        case 'help':
          term.writeln('\r\nAvailable commands:');
          term.writeln('  help          - Show this help message');
          term.writeln('  ls            - List available documents');
          term.writeln('  cat <file>    - Show the content of a document');
          term.writeln('  clear         - Clear the terminal screen');
          break;
        case 'ls':
          term.writeln('\r\n' + Object.keys(documents).join('  '));
          break;
        case 'cat':
          if (args[1] && documents[args[1]]) {
            term.writeln('\r\n' + documents[args[1]]);
          } else {
            term.writeln('\r\ncat: ' + (args[1] || '') + ': No such file');
          }
          break;
        case 'clear':
          term.clear();
          break;
        case '':
          // Do nothing on empty command
          break;
        default:
          term.writeln(`\r\n${commandName}: command not found`);
      }
    }

    // Listen for key events in the terminal
    term.onKey(e => {
      const ev = e.domEvent;
      const printable = !ev.altKey && !ev.ctrlKey && !ev.metaKey;
      
      if (ev.keyCode === 13) {
        // Enter key: process the current command
        handleCommand(command);
        command = '';
        prompt();
      } else if (ev.keyCode === 8) {
        // Backspace key: remove last character if available
        if (command.length > 0) {
          command = command.slice(0, -1);
          // Move cursor back, write a space, and move back again to erase the character visually
          term.write('\b \b');
        }
      } else if (printable) {
        // Append the character to the command and echo it to the terminal
        command += e.key;
        term.write(e.key);
      }
    });
  </script>
</body>
</html>
